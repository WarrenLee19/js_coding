MutationObserver 是用来监听 DOM 变化的一套方法

MutationObserver 采用了“异步 + 微任务”的策略。通过异步操作解决了同步操作的性能问题；通过微任务解决了实时性的问题

早期的版本使用 setTimeout 或者 setInterval 来定时检测 DOM 是否有改变，这种方式简单粗暴，但是会遇到两个问题：如果时间间隔设置过长，DOM 变化响应不够及时；反过来如果时间间隔设置过短，又会浪费很多无用的工作量去检查 DOM，会让页面变得低效。

MutationObserver 方案的核心就是采用了微任务机制，有效地权衡了实时性和执行效率的问题。